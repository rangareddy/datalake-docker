{
  "name": "hudi-sink-connector",
  "config": {
    "bootstrap.servers": "kafka:29092",
    "group.id": "hudi-connect-group",
    "connector.class": "org.apache.hudi.connect.HoodieSinkConnector",
    "tasks.max": "1",
    "key.converter": "org.apache.kafka.connect.storage.StringConverter",
    "value.converter": "org.apache.kafka.connect.json.JsonConverter",
    "key.converter.schemas.enable": "true",
    "value.converter.schemas.enable": "true",
    "topics": "hudi-sink-topic",
    "hoodie.table.name": "hudi_sink_table",
    "hoodie.table.type": "COPY_ON_WRITE",
    "hoodie.base.path": "s3:/warehouse/hudi_sink_table",
    "hoodie.datasource.write.recordkey.field": "id",
    "hoodie.datasource.write.precombine.field" : "name",
    "hoodie.datasource.write.partitionpath.field": "department",
    "hoodie.schemaprovider.class": "org.apache.hudi.schema.SchemaRegistryProvider",
    "hoodie.streamer.schemaprovider.registry.url": "http://kafka-schema-registry:8081/subjects/hudi-sink-topic/versions/latest",
    "hoodie.kafka.commit.interval.secs": "60",
    "hoodie.meta.sync.enable": "true",
    "hoodie.meta.sync.classes": "org.apache.hudi.hive.HiveSyncTool",
    "hoodie.datasource.hive_sync.table": "hudi_sink_table",
    "hoodie.datasource.hive_sync.partition_fields": "department",
    "hoodie.datasource.hive_sync.partition_extractor_class": "org.apache.hudi.hive.MultiPartKeysValueExtractor",
    "hoodie.datasource.hive_sync.use_jdbc": "false",
    "hoodie.datasource.hive_sync.mode": "hms",
    "hive.metastore.uris": "thrift://hive-metastore:9083",
    "hive.metastore.client.socket.timeout": "1500s"
  }
}